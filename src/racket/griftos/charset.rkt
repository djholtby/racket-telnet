#lang racket/base

(require "defconst.rkt")
(provide mib->symbol encoding->mib encoding->symbol)


(define (mib->symbol m)
  (or (constant-name 'CHARSET m) (error 'mib->symbol "valid mib number" m)))

(define (encoding->mib e)
  (if (number? e) (encoding->mib (string-append "CP" (number->string e)))
      (constant-value 'CHARSET (string->symbol (string-upcase e)))))

(define (encoding->symbol e)
  (mib->symbol (encoding->mib e)))

;; These are the official names + aliases for iConv
;; On Windows typically about half of these will work?
;; On Linux it should be 100% working
(define-constants CHARSET #:provide
  [ASCII ANSI_X3.4-1968 ANSI_X3.4-1986 US-ASCII CP367 CSASCII IBM367 ISO646-US ISO_646.IRV:1991 US 3]
  [LATIN1 ISO-8859-1 CP819 CSISOLATIN1 IBM819 ISO-IR-100 ISO_8859-1 L1  4]
  [LATIN2 ISO-8859-2 CSISOLATIN2 ISO-IR-101 ISO_8859-2 L2  5]
  [LATIN3 ISO-8859-3 CSISOLATIN3 ISO-IR-109 ISO_8859-3 L3  6]
  [LATIN4 ISO-8859-4 CSISOLATIN4 ISO-IR-110 ISO_8859-4 L4  7]
  [CYRILLIC ISO-8859-5 CSISOLATINCYRILLIC  ISO-IR-144 ISO_8859-5 8]
  [ARABIC ISO-8859-6  ASMO-708 CSISOLATINARABIC ECMA-114 ISO-IR-127 ISO_8859-6 9]
  [GREEK ISO-8859-7 CSISOLATINGREEK ECMA-118 ELOT_928  GREEK8 ISO-IR-126 ISO_8859-7 10]
  [HEBREW ISO-8859-8 CSISOLATINHEBREW ISO-IR-138 ISO_8859-8 11]
  [LATIN5 ISO-8859-9 CSISOLATIN5 ISO-IR-148 ISO_8859-9 L5  12]
  [LATIN6 ISO-8859-10 CSISOLATIN6 ISO-IR-157 ISO8859-10 ISO885910 ISO_8859-10 ISO_8859-10:1992 L6  13]
  [SHIFT-JIS CSSHIFTJIS MS_KANJI SHIFT_JIS 17]
  [EUC-JP CSEUCPKDFMTJAPANESE 18]
  [BS_4730 CSISO4UNITEDKINGDOM GB ISO-IR-4 ISO646-GB UK 20]
  [SEN_850200_C CSISO11SWEDISHFORNAMES ISO-IR-11 ISO646-SE2 SE2 21]
  [IT CSISO15ITALIAN ISO-IR-15 ISO646-IT 22]
  [ES CSISO17SPANISH ISO-IR-17 ISO646-ES 23]
  [DIN_66003 CSISO21GERMAN DE ISO-IR-21 ISO646-DE 24]
  [NS_4551-1 CSISO60DANISHNORWEGIAN CSISO60NORWEGIAN1 ISO-IR-60 ISO646-NO NO NS_45511 25]
  [NF_Z_62-010 CSISO69FRENCH FR ISO-IR-69 ISO646-FR NF_Z_62010 26]
  [NATS-SEFI CSNATSSEFI ISO-IR-8-1 NATSSEFI 31]
  [NATS-DANO CSNATSDANO ISO-IR-9-1 NATSDANO 33]
  [ISO-IR-92 CSNATSDANOADD ISO-IR-9-2 NATS-DANO-ADD 34]
  [SEN_850200_B CSISO10SWEDISH FI ISO-IR-10 ISO646-FI ISO646-SE SE 35]
  [ISO-2022-KR CSISO2022KR ISO2022KR 37]
  [EUC-KR CSEUCKR EUCKR 38]
  [ISO-2022-JP CSISO2022JP ISO2022JP 39]
  [ISO-2022-JP-2 CSISO2022JP2 ISO2022JP2 40]
  [JIS_C6220-1969-RO CSISO14JISC6220RO ISO-IR-14 ISO646-JP JIS_C62201969RO JP 42]
  [PT CSISO16PORTUGUESE ISO-IR-16 ISO646-PT 43]
  [GREEK7-OLD CSISO18GREEK7OLD GREEK7OLD ISO-IR-18 44]
  [LATIN-GREEK CSISO19LATINGREEK ISO-IR-19 LATINGREEK 45]
  [NF_Z_62-010_1973 CSISO25FRENCH ISO-IR-25 ISO646-FR1 NF_Z_62010_1973 46]
  [LATIN-GREEK-1 CSISO27LATINGREEK1 ISO-IR-27 LATINGREEK1 47]
  [ISO_5427 CSISO5427CYRILLIC ISO-IR-37 48]
  [INIS CSISO49INIS ISO-IR-49 51]
  [INIS-8 CSISO50INIS8 INIS8 ISO-IR-50 52]
  [INIS-CYRILLIC CSISO51INISCYRILLIC INISCYRILLIC ISO-IR-51 53]
  [ISO_5427:1981 CSISO54271981 ISO-IR-54 ISO5427CYRILLIC1981 54]
  [ISO_5428:1980 CSISO5428GREEK ISO-IR-55 55]
  [GB_1988-80 CN CSISO57GB1988 GB_198880 ISO-IR-57 ISO646-CN 56]
  [NS_4551-2 CSISO61NORWEGIAN2 ISO-IR-61 ISO646-NO2 NO2 NS_45512 58]
  [PT2 CSISO84PORTUGUESE2 ISO-IR-84 ISO646-PT2 60]
  [ES2 CSISO85SPANISH2 ISO-IR-85 ISO646-ES2 61]
  [MSZ_7795.3 CSISO86HUNGARIAN HU ISO-IR-86 ISO646-HU 62]
  [GREEK7 CSISO88GREEK7 ISO-IR-88 64]
  [ASMO_449 ARABIC7 CSISO89ASMO449 ISO-IR-89 ISO_9036 65]
  [ISO-IR-90  CSISO90 66]
  [JIS_C6229-1984-B CSISO92JISC62991984B ISO646-JP-OCR-B JIS_C62291984B JP-OCR-B 68]
  [ISO_2033-1983 CSISO2033 E13B ISO-IR-98 ISO_2033 73]
  [ANSI_X3.110-1983 CSA_T500-1983 CSISO99NAPLPS ISO-IR-99 NAPLPS 74]
  [T.61-8BIT CSISO103T618BIT ISO-IR-103 T.61 T.618BIT 76]
  [ECMA-CYRILLIC CSISO111ECMACYRILLIC ECMACYRILLIC ISO-IR-111 KOI8-E 77]
  [CSA_Z243.4-1985-1 CA CSA7-1 CSA71 CSA_Z243.419851 CSISO121CANADIAN1 ISO-IR-121 ISO646-CA 78]
  [CSA_Z243.4-1985-2 CSA7-2 CSA72 CSA_Z243.419852 CSISO122CANADIAN2 ISO-IR-122 ISO646-CA2 79]
  [CSN_369103 CSISO139CSN369103 ISO-IR-139 86]
  [JUS_I.B1.002 CSISO141JUSIB1002 ISO-IR-141 ISO646-YU JS YU 87]
  [IEC_P27-1 CSISO143IECP271 IEC_P271 ISO-IR-143 88]
  [GREEK-CCITT CSISO150 CSISO150GREEKCCITT GREEKCCITT ISO-IR-150 91]
  [NC_NC00-10:81 CSISO151CUBA CUBA ISO-IR-151 ISO646-CU 92]
  [GOST_19768-74 CSISO153GOST1976874 GOST_1976874 ISO-IR-153 ST_SEV_358-88 94]
  [ISO_10367-BOX CSISO10367BOX ISO-IR-155 ISO_10367BOX 96]
  [DS_2089 CSISO646DANISH DK DS2089 ISO646-DK 99]
  [KSC5636 CSKSC5636 ISO646-KR 102]
  [ISO-2022-CN CSISO2022CN ISO2022CN 104]
  [ISO-2022-CN-EXT CSISO2022CNEXT ISO2022CNEXT 105]
  [UTF-8 CSUTF8 UTF8 106]
  [ISO-8859-13 CSISO885913 ISO8859-13 ISO885913 109]
  [ISO-8859-14 CSISO885914 ISO-CELTIC ISO-IR-199 ISO_8859-14 ISO_8859-14:1998 L8 LATIN8 110]
  [ISO-8859-15 CSISO885915 ISO_8859-15 LATIN-9 111]
  [ISO-8859-16 CSISO885916 ISO-IR-226 ISO_8859-16 ISO_8859-16:2001 L10 LATIN10 112]
  [GBK CP936 CSGBK MS936 WINDOWS-936 113]
  [GB18030 CSGB18030 114]
  [ISO_11548-1 CSISO115481 ISO-11548-1 ISO_TR_11548-1 118]
  [RK1048 CSKZ1048 KZ-1048 STRK1048-2002 119]
  [CSUNICODE ISO-10646-UCS-2 UNICODE 1000]
  [CSUCS4 ISO-10646-UCS-4 UCS-4 UCS4 1001]
  [ISO-10646 CSUNICODELATIN1 ISO-10646-UNICODE-LATIN1 1003]
  [UTF-7 CSUTF7 UTF7 1012]
  [UTF-16BE CSUTF16BE UTF16BE 1013]
  [UTF-16LE CSUTF16LE UTF16LE 1014]
  [UTF-16 CSUTF16 UTF16 1015]
  [UTF-32 CSUTF32 UTF32 1017]
  [UTF-32BE CSUTF32BE UTF32BE 1018]
  [UTF-32LE CSUTF32LE UTF32LE 1019]
  [HP-ROMAN8 CSHPROMAN8 HPROMAN8 R8 ROMAN8 2004]
  [DEC-MCS CSDECMCS DEC DECMCS 2008]
  [IBM850 CP850 CSPC850MULTILINGUAL 2009]
  [IBM862 CP862 CSPC862LATINHEBREW 2013]
  [WINDOWS-31J CSWINDOWS31J 2024]
  [GB2312 CSGB2312 2025]
  [BIG5 BIG-5 CSBIG5 2026]
  [MACINTOSH CSMACINTOSH MAC 2027]
  [IBM037 CP037 CSIBM037 EBCDIC-CP-CA EBCDIC-CP-NL EBCDIC-CP-US EBCDIC-CP-WT 2028]
  [IBM038 CP038 CSIBM038 EBCDIC-INT 2029]
  [IBM273 CP273 CSIBM273 2030]
  [IBM274 CP274 CSIBM274 EBCDIC-BE 2031]
  [IBM275 CP275 CSIBM275 EBCDIC-BR 2032]
  [IBM277 CSIBM277 EBCDIC-CP-DK EBCDIC-CP-NO 2033]
  [IBM278 CP278 CSIBM278 EBCDIC-CP-FI EBCDIC-CP-SE 2034]
  [IBM280 CP280 CSIBM280 EBCDIC-CP-IT 2035]
  [IBM281 CP281 CSIBM281 EBCDIC-JP-E 2036]
  [IBM284 CP284 CSIBM284 EBCDIC-CP-ES 2037]
  [IBM285 CP285 CSIBM285 EBCDIC-CP-GB 2038]
  [IBM290 CP290 CSIBM290 EBCDIC-JP-KANA 2039]
  [IBM297 CP297 CSIBM297 EBCDIC-CP-FR 2040]
  [IBM420 CP420 CSIBM420 EBCDIC-CP-AR1 2041]
  [IBM423 CP423 CSIBM423 EBCDIC-CP-GR 2042]
  [IBM424 CP424 CSIBM424 EBCDIC-CP-HE 2043]
  [IBM437 CP437 CSPC8CODEPAGE437 2011]
  [IBM500 CP500 CSIBM500 EBCDIC-CP-BE EBCDIC-CP-CH 2044]
  [IBM851 CP851 CSIBM851 2045]
  [IBM852 CP852 CSPCP852 2010]
  [IBM855 CP855 CSIBM855 2046]
  [IBM857 CP857 CSIBM857 2047]
  [IBM860 CP860 CSIBM860 2048]
  [IBM861 CP-IS CP861 CSIBM861 2049]
  [IBM863 CP863 CSIBM863 2050]
  [IBM864 CP864 CSIBM864 2051]
  [IBM865 CP865 CSIBM865 2052]
  [IBM868 CP-AR CP868 CSIBM868 2053]
  [IBM869 CP-GR CP869 CSIBM869 2054]
  [IBM870 CP870 CSIBM870 EBCDIC-CP-ROECE EBCDIC-CP-YU 2055]
  [IBM871 CP871 CSIBM871 EBCDIC-CP-IS 2056]
  [IBM880 CP880 CSIBM880 EBCDIC-CYRILLIC 2057]
  [IBM891 CP891 CSIBM891 2058]
  [IBM903 CP903 CSIBM903 2059]
  [IBM904 CP904 CSIBBM904 2060]
  [IBM905 CP905 CSIBM905 EBCDIC-CP-TR 2061]
  [IBM918 CP918 CSIBM918 EBCDIC-CP-AR2 2062]
  [IBM1026 CP1026 CSIBM1026 2063]
  [EBCDIC-AT-DE CSIBMEBCDICATDE EBCDICATDE 2064]
  [EBCDIC-AT-DE-A CSEBCDICATDEA EBCDICATDEA 2065]
  [EBCDIC-CA-FR CSEBCDICCAFR EBCDICCAFR 2066]
  [EBCDIC-DK-NO CSEBCDICDKNO EBCDICDKNO 2067]
  [EBCDIC-DK-NO-A CSEBCDICDKNOA EBCDICDKNOA 2068]
  [EBCDIC-FI-SE CSEBCDICFISE EBCDICFISE 2069]
  [EBCDIC-FI-SE-A CSEBCDICFISEA EBCDICFISEA 2070]
  [EBCDIC-FR CSEBCDICFR EBCDICFR 2071]
  [EBCDIC-IT CSEBCDICIT EBCDICIT 2072]
  [EBCDIC-PT CSEBCDICPT EBCDICPT 2073]
  [EBCDIC-ES CSEBCDICES EBCDICES 2074]
  [EBCDIC-ES-A CSEBCDICESA EBCDICESA 2075]
  [EBCDIC-ES-S CSEBCDICESS EBCDICESS 2076]
  [EBCDIC-UK CSEBCDICUK EBCDICUK 2077]
  [EBCDIC-US CSEBCDICUS EBCDICUS 2078]
  [VISCII CSVISCII 2082]
  [KOI8-R CSKOI8R KOI8R 2084]
  [IBM866 CP866 CSIBM866 2086]
  [IBM775 CP775 CSPC775BALTIC 2087]
  [KOI8-U CSKOI8U KOI8U 2088]
  [BIG5-HKSCS BIG5HKSCS CSBIG5HKSCS 2101]
  [IBM1047 CSIBM1047 IBM-1047 2102]
  [PT154 CP154 CSPTCP154 CYRILLIC-ASIAN PTCP154 2103]
  [BRF CSBRF 2106]
  [TSCII CSTSCII 2107]
  [WINDOWS-874 CSWINDOWS874 2109]
  [WINDOWS-1250 CSWINDOWS1250 2250]
  [WINDOWS-1251 CSWINDOWS1251 2251]
  [WINDOWS-1252 CSWINDOWS1252 2252]
  [WINDOWS-1253 CSWINDOWS1253 2253]
  [WINDOWS-1254 CSWINDOWS1254 2254]
  [WINDOWS-1255 CSWINDOWS1255 2255]
  [WINDOWS-1256 CSWINDOWS1256 2256]
  [WINDOWS-1257 CSWINDOWS1257 2257]
  [WINDOWS-1258 CSWINDOWS1258 2258])

  
